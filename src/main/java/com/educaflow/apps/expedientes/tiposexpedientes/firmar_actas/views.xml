<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xmlns="http://axelor.com/xml/ns/object-views"
              xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.1.xsd">


    <action-record name="clear-cargo-action" model="com.educaflow.apps.expedientes.db.FirmarActas">
        <field name="cargo" expr="eval: null"/>
    </action-record>

    <form name="exp-FirmarActas-Templates" title="Certificado Tutor"  width="large"  model="com.educaflow.apps.expedientes.db.FirmarActas" groups="admins,users">
        <panel name="ambito-creador" title="Ámbito del Creador">
            <field name="numeroExpediente"/>
            <field name="valoresAmbitoCreador.departamento"
            />
            <field name="centro"
                   onChange="clear-cargo-action"
                   grid-view="buscar-centros"
                   form-view="Centro2"
            />
            <field name="cargo"
                   domain="self.centro=:centro"
            />
            <field name="valoresAmbitoCreador.centro"
                   form-view="Centro2"
            />
            <field name="valoresAmbitoCreador.creador"/>
        </panel>


        <panel  name="ambito-responsable" >
            <field name="valoresAmbitoCreador.centro"  widget="ref-text"
                   target-name="name" />
            <field name="valoresAmbitoCreador.departamento"  widget="ref-text"
                   target-name="name" />
            <field name="valoresAmbitoCreador.departamento.name"  />
        </panel>
    </form>
    <grid name="buscar-centros" title="Expedientes" model="com.educaflow.apps.sistemaeducativo.db.Centro"
          groups="admins,users"
          editable="false" edit-icon="false" x-selector="none" canNew="false" canEdit="false" canDelete="false" canSave="false"
    >
        <field name="code" width="200px" />
        <field name="name"/>
    </grid>

    <form name="Centro" title="Certificado Tutor"  width="large"  model="com.educaflow.apps.sistemaeducativo.db.Centro" groups="admins,users">
        <panel name="Centro" title="Centro">

            <field name="name"/>
        </panel>
    </form>


    <form name="Departamento" title="Certificado Tutor"  width="large"  model="com.educaflow.apps.sistemaeducativo.db.Departamento" groups="admins,users">
        <panel name="Centro" title="Departamento">
            <field name="code"/>
            <field name="name"/>
        </panel>
    </form>

    <form name="Centro2" title="Certificado Tutor"  width="large"  model="com.educaflow.apps.sistemaeducativo.db.Centro" groups="admins,users">
        <panel name="Centro" title="Centro">
            <field name="code"/>
            <field name="name"/>
        </panel>
    </form>


    <form name="Departamento2" title="Certificado Tutor"  width="large"  model="com.educaflow.apps.sistemaeducativo.db.Departamento" groups="admins,users">
    <panel name="Centro" title="Departamento">
        <field name="name"/>
    </panel>
    </form>




    <!--<action-record name="clear-curso-action" model="com.educaflow.apps.expedientes.db.CertificadoTutor">
        <field name="valoresAmitoCreador.curso" expr="eval: null"/>
    </action-record>

    <action-record name="clear-grupo-action" model="com.educaflow.apps.expedientes.db.CertificadoTutor">
        <field name="valoresAmitoCreador.grupo" expr="eval: null"/>
    </action-record>


    <form name="exp-FirmarActas-Templates" title="Firmar Acta"  width="large"  model="com.educaflow.apps.expedientes.db.FirmarActas" groups="admins,users">
        <panel name="ambito-creador" title="Acta">
            <field
                    name="valoresAmbitoCreador.ciclo"
                    colSpan="4"
                    onChange="clear-curso-action, clear-grupo-action"
                    grid-view="buscar-ciclos"
            />
            <field name="valoresAmbitoCreador.curso" colSpan="4" onChange="clear-grupo-action"/>
            <field name="valoresAmbitoCreador.grupo" colSpan="4"/>
            <field name="acta"  widget="binary-link" colSpan="4"/>
            <field name="actaFirmada"  widget="binary-link" colSpan="4"/>
        </panel>
    </form>

    <grid name="buscar-ciclos" title="Ciclos" model="com.educaflow.apps.sistemaeducativo.db.Ciclo"
          groups="admins,users"
          editable="false" edit-icon="false" x-selector="none" canNew="false" canEdit="false" canDelete="false" canSave="false"
    >
        <field name="code" width="200px" />
        <field name="name"/>
    </grid>-->



    <!-- *********************************************************************************************  -->
    <!-- *************************************** ENTRADA_DATOS ***************************************  -->
    <!-- *********************************************************************************************  -->
    
    <form state="ENTRADA_DATOS" profile="CREADOR">
        <include-panels includeHeader="true">
            ambito-creador
            ambito-responsable
        </include-panels>
        <footer>
            <buttons-left>
            </buttons-left>
            <buttons-right>
                <button name="PRESENTAR" colSpan="2" title="Presentar" onClick="action-event-expediente" />
            </buttons-right>
        </footer>

    </form>

    <form state="ENTRADA_DATOS" >
        <include-panels includeHeader="true">
            -ambito-creador
            -ambito-responsable
        </include-panels>
        <footer>
            <buttons-left>
            </buttons-left>
            <buttons-right>
                <!--<button name="" colSpan="2" title="" onClick="action-event-expediente" />-->
            </buttons-right>
        </footer>
    </form>



    <!-- **************************************************************************************************  -->
    <!-- *************************************** FIRMA_POR_USUARIOS ***************************************  -->
    <!-- **************************************************************************************************  -->
    
    <form state="FIRMA_POR_USUARIOS" profile="RESPONSABLE">
        <include-panels includeHeader="true">
            ambito-creador
        </include-panels>
        <footer>
            <buttons-left>
            </buttons-left>
            <buttons-right>
                <!--<button name="FIRMAR" colSpan="2" title="" onClick="action-event-expediente" />-->
            </buttons-right>
        </footer>

    </form>

    <form state="FIRMA_POR_USUARIOS" >
        <include-panels includeHeader="true">
            -ambito-creador
        </include-panels>
        <footer>
            <buttons-left>
            </buttons-left>
            <buttons-right>
                <button name="ACEPTAR" colSpan="2" title="Aceptar" onClick="action-event-expediente" />
            </buttons-right>
        </footer>
    </form>



    <!-- ****************************************************************************************  -->
    <!-- *************************************** ACEPTADO ***************************************  -->
    <!-- ****************************************************************************************  -->

    <form state="ACEPTADO" >
        <include-panels includeHeader="true">
            -ambito-creador
        </include-panels>
        <footer>
            <buttons-left>
            </buttons-left>
            <buttons-right>
                <button name="" colSpan="2" title="" onClick="action-event-expediente" />
            </buttons-right>
        </footer>
    </form>




</object-views>